{"version":3,"sources":["index.es6"],"names":[],"mappings":"AAAA;;;;;;;;;;;;eA6CU,gB;;AA5CV,IAAI,KAAQ,QAAQ,IAAR,CAAZ;IACI,QAAQ,QAAQ,OAAR,CADZ;IAEI,KAAK,QAAQ,IAAR,CAFT;IAGI,kBAAkB,QAAQ,mBAAR,CAHtB;IAII,cAAc,QAAQ,eAAR,CAJlB;IAKI,OAAO,QAAQ,QAAR,CALX;IAMI,OAAO,QAAQ,QAAR,CANX;IAOI,QAAQ,CAPZ;AAQA,QAAQ,gBAAR;;AAEA,IAAM,UAAU,SAAhB;IACM,WAAW,UADjB;IAC6B,QAAQ,OADrC;IAEM,QAAQ,OAFd;IAEuB,OAAO,MAF9B,C;;;;AAMA,MAAM,IAAN,GACK,GADL,GAEK,IAFL,CAEU,EAAE,MAAM,wCAAR,EAFV;;;;;;;;;AAYA,MAAM,QAAN,CAAe,CAAI,QAAJ,SAAgB,KAAhB,SAAyB,KAAzB,EAAoC,QAApC,SAAgD,KAAhD,SAAyD,IAAzD,CAAf;;;;;;;;;;;;;;;;AAgBA,SAAU,gBAAV,CAA2B,IAA3B;AAAA,QAAgC,GAAhC,yDAAoC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACU,IADV;;AAAA;AAAA,0BAEQ,KAAK,UAAL,KAAoB,MAApB,IAA8B,KAAK,WAF3C;AAAA;AAAA;AAAA;;AAAA,kDAGgB,iBAAiB,YAAY,WAAZ,CAAwB,GAAxB,EAA4B,QAA5B,EAAqC,KAArC,EAA2C,KAAK,WAAhD,CAAjB,CAHhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAKC;;;;AAID,IAAI,YAAY,IAAI,IAAJ,CAAS,GAAT,EAAa,QAAb,EAAsB,KAAtB,EAA4B,OAA5B,CAAhB;;AAEA,QAAQ,GAAR,CAAY,OAAZ,EAAoB,iBAApB,EAAuC,SAAvC;AACA,QAAQ,GAAR,CAAY,OAAZ,4BAA4C,UAAU,OAAtD;AACA,QAAQ,GAAR,CAAY,OAAZ,EAAoB,uBAApB,EAA4C,UAAU,OAAtD;AACA,QAAQ,GAAR,CAAY,OAAZ,EAAoB,2BAApB,EAAgD,UAAU,WAA1D;;AAEA,IAAI,mDAAY,iBAAiB,IAAI,IAAJ,CAAS,GAAT,EAAa,QAAb,EAAsB,KAAtB,EAA4B,OAA5B,CAAjB,EAAsD,GAAtD,CAAZ,EAAJ;;AAEA,QAAQ,GAAR,CAAY,aAAZ,EAA0B,KAA1B;;AAEA,IAAI,kBAAkB,YAAY,8BAAZ,CAA2C,EAA3C,EAA8C,MAAM,CAAN,EAAS,KAAT,CAAe,KAA7D,CAAtB;AACA,QAAQ,GAAR,CAAY,iBAAZ,EAA+B,eAA/B;;AAEA,QAAQ,GAAR,CAAY,kBAAZ,EAA+B,gBAAgB,IAAhB,CAAqB,IAArB,CAA0B,GAAzD;;AAEA,QAAQ,GAAR,CAAY,kBAAZ,EAA+B,gBAAgB,IAAhB,CAAqB,IAArB,CAA0B,GAAzD","file":"index.js","sourcesContent":["\"use strict\";\nvar fs    = require('fs'),\n    nconf = require('nconf'),\n    co = require('co'),\n    ConfigEntryPath = require('./ConfigEntryPath'),\n    ConfigEntry = require('./ConfigEntry'),\n    Task = require('./Task'),\n    Step = require('./Step'),\n    count = 0;\nrequire(\"babel-polyfill\");\n\nconst PROJECT = 'PROJECT',\n      WORKFLOW = 'WORKFLOW', TASKS = 'TASKS',\n      START = 'start', EXIT = 'exit';//,\n      //SEP = [' ',':','.',',',';','|','-'];\n\n//Read configuration file\nnconf.argv()\n    .env()\n    .file({ file: '../../conf/coursor.inherit.cfg.v1.json' });\n\n\n//let WorkflowTasks=new ConfigEntryPath(WORKFLOW,TASKS),\n//    WorkflowTasksStart = new ConfigEntryPath('-',WORKFLOW,TASKS,START), WorkflowTasksExit = new ConfigEntryPath(' ',  WORKFLOW,TASKS,EXIT), taskSep= ConfigEntry.validateConfigEntry(new ConfigEntryPath(WORKFLOW,'TASKSEP').configEntryPath);\n//\n//console.log(`WorkflowTasksStart ${WorkflowTasks.configEntryName} WorkflowTasksStart ${WorkflowTasksStart.configEntryName}`);\n\n//Check if mandatory keys like Workflow Tasks, Project Name, Tasks Starting Entry point and Exit are exists.\n//nconf.required([WORKFLOW,TASKS,START, WorkflowTasksStart.configEntryPath, WorkflowTasksExit.configEntryPath]);\nnconf.required([`${WORKFLOW}:${TASKS}:${START}`,`${WORKFLOW}:${TASKS}:${EXIT}`]);\n\n//let test = new Task(new ConfigEntryPath(WORKFLOW,TASKS,START));\n//\n//console.log(\"test\",test);\n\n//function* generateTaskList(taskPath,stopTaskPath,sep='-'){\n//    let task = new Task(taskPath);\n//    yield task;\n//    if (task._entryPath !== stopTaskPath.configEntryPath && task.nextSuccess) {\n//        yield  *generateTaskList(ConfigEntryPath.configEntryPath(sep,WORKFLOW,TASKS,task.nextSuccess),stopTaskPath,sep);\n//    }\n//};\n\n//var tasks = [...generateTaskList(('-',WORKFLOW,TASKS,START),(' ',  WORKFLOW,TASKS,EXIT))];\n\nfunction* generateTaskList(task,sep=''){\n    yield task;\n    if (task._entryPath !== 'exit' && task.nextSuccess) {\n        yield  *generateTaskList(ConfigEntry.configEntry(sep,WORKFLOW,TASKS,task.nextSuccess));\n    }\n};\n\n// Initiate a starting task to push workflow\n\nlet startTask = new Task('-',WORKFLOW,TASKS,'start');\n//\nconsole.log(count++,\"!!!startConfig:\", startTask);\nconsole.log(count++,`startConfig.entryId: ${startTask.entryId}`);\nconsole.log(count++,\" ,startConfig.entryId\",startTask.entryId);\nconsole.log(count++,\" ,startConfig.nextSuccess\",startTask.nextSuccess);\n\nvar tasks = [...generateTaskList(new Task('-',WORKFLOW,TASKS,'start'),'-')];\n\nconsole.log(\"VARTATSKS: \",tasks);\n\nvar translatedEntry = ConfigEntry.translateConfigEntryReferences({},tasks[1].STEPS.step1);\nconsole.log(\"translatedEntry\", translatedEntry);\n//\nconsole.log(\"translatedEntry1\",translatedEntry.CALL.EXEC.CMD);\n\nconsole.log(\"translatedEntry2\",translatedEntry.CALL.EXEC.CMD);\n\n//let tasks = Array.from(WorkflowTasks).\n\n\n"]}